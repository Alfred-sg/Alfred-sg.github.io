<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">

    

    
    <title>编译原理踩点 | 修子范语</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="keywords" content="analyst,计算机科学,编译原理">
    
    <meta name="description" content="基础及前言编译器由 analysis 分析（也称为前端部分）、synthesis 综合（也称为后端部分）两部分构成。编译器执行的各 phase 步骤如下：  词法分析 lexical analysis：将字符流源程序解析成 token 词法单元。这一部分将收集源程序的变量信息，并存入 symbol table 符号表。 语法分析 syntax analysis：构建词法单元的语法结构 —— syn">
<meta name="keywords" content="analyst,计算机科学,编译原理">
<meta property="og:type" content="article">
<meta property="og:title" content="编译原理踩点">
<meta property="og:url" content="http://xzfyu.com/2020/07/02/计算机科学/编译原理/编译原理踩点/index.html">
<meta property="og:site_name" content="修子范语">
<meta property="og:description" content="基础及前言编译器由 analysis 分析（也称为前端部分）、synthesis 综合（也称为后端部分）两部分构成。编译器执行的各 phase 步骤如下：  词法分析 lexical analysis：将字符流源程序解析成 token 词法单元。这一部分将收集源程序的变量信息，并存入 symbol table 符号表。 语法分析 syntax analysis：构建词法单元的语法结构 —— syn">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://xzfyu.com/2020/07/02/计算机科学/编译原理/编译原理踩点/analysis.png">
<meta property="og:updated_time" content="2020-07-02T13:30:13.695Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="编译原理踩点">
<meta name="twitter:description" content="基础及前言编译器由 analysis 分析（也称为前端部分）、synthesis 综合（也称为后端部分）两部分构成。编译器执行的各 phase 步骤如下：  词法分析 lexical analysis：将字符流源程序解析成 token 词法单元。这一部分将收集源程序的变量信息，并存入 symbol table 符号表。 语法分析 syntax analysis：构建词法单元的语法结构 —— syn">
<meta name="twitter:image" content="http://xzfyu.com/2020/07/02/计算机科学/编译原理/编译原理踩点/analysis.png">
    

    

    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/titillium-web/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/3.4.1/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
    
    
    


</head>
</html>
<body>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                        <h2 class="subtitle-wrap">
                            <p class="subtitle">Alfredo&#39;s Notes</p>
                        </h2>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/">主页</a>
                                </li>
                            
                                        <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/backend/">backend</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/backend/java/">java</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/backend/java-工程/">java 工程</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/backend/spring/">spring</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/backend/web-服务/">web 服务</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/backend/其他/">其他</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/backend/异步消息/">异步消息</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/backend/数据库/">数据库</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/backend/数据库技术/">数据库技术</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/backend/架构/">架构</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/backend/模块/">模块</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/backend/缓存/">缓存</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/backend/远程通信/">远程通信</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/backend/部署/">部署</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/frontend/">frontend</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/frontend/antd/">antd</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/frontend/architecture/">architecture</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/frontend/editor/">editor</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/frontend/guide/">guide</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/frontend/html/">html</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/frontend/js/">js</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/frontend/library/">library</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/frontend/react/">react</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/frontend/vue/">vue</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/frontend/前端工程化/">前端工程化</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/数据技术/">数据技术</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/数据技术/sql/">sql</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/数据技术/大数据/">大数据</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/数据技术/读书笔记/">读书笔记</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/计算机科学/">计算机科学</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/计算机科学/操作系统/">操作系统</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/计算机科学/算法/">算法</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/计算机科学/编译原理/">编译原理</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/计算机科学/设计模式/">设计模式</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/计算机科学/软件工程/">软件工程</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/读书笔记/">读书笔记</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/踩坑/">踩坑</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/随笔/">随笔</a></li></ul>
                                    
                                <li class="main-nav-list-item">
                                    <a class="main-nav-list-link" href="/about/index.html">关于</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索">
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="想要查找什么...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/计算机科学/">计算机科学</a><i class="icon fa fa-angle-right"></i><a class="page-title-link" href="/categories/计算机科学/编译原理/">编译原理</a>
    </h1>
</div>

                        <div class="main-body-content">
                            <article id="post-计算机科学/编译原理/编译原理踩点" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        编译原理踩点
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
    <div class="article-date">
      <i class="fa fa-calendar"></i>
      <a href="/2020/07/02/计算机科学/编译原理/编译原理踩点/" class="article-date">
         <time datetime="2020-07-01T16:00:00.000Z" itemprop="datePublished">2020-07-02</time>
      </a>
    </div>


                

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/analyst/">analyst</a>, <a class="tag-link" href="/tags/编译原理/">编译原理</a>, <a class="tag-link" href="/tags/计算机科学/">计算机科学</a>
    </div>

                

                

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            <h3 id="基础及前言"><a href="#基础及前言" class="headerlink" title="基础及前言"></a>基础及前言</h3><p>编译器由 analysis 分析（也称为前端部分）、synthesis 综合（也称为后端部分）两部分构成。编译器执行的各 phase 步骤如下：</p>
<ol>
<li>词法分析 lexical analysis：将字符流源程序解析成 token 词法单元。这一部分将收集源程序的变量信息，并存入 symbol table 符号表。</li>
<li>语法分析 syntax analysis：构建词法单元的语法结构 —— syntax tree 语法树。</li>
<li>语义分析 semantic analysis：检测源程序是否符合语义，如类型检查、类型转换。</li>
<li>中间代码生成：根据语法树生成容易生成、且容易翻译到目标机器上的语言，如 three-address code 三地址代码。</li>
<li>代码优化：该步骤试图改进中间代码，以便生成更短或性能更好的中间代码。</li>
<li>代码生成：根据中间代码生成目标机器语言，这阶段会分配寄存器。</li>
</ol>
<p>有些编译器按逻辑构成逐步组织；有些编译器围绕中间表示组织，一个前端对应多个后端，一个后端对应多个前端。</p>
<p>本文限于整理编译原理龙书中的第一、二两章，即下文只有编译器前端部分。</p>
<p>在龙书中，计算机科学家使用数学方法分析问题的思路使人惊叹.此外，龙书对于编译器这个复杂命题的精要描述具有一定典范性：</p>
<ul>
<li>抽象化表达，从简单示例入手，概括出主要处理流程，屏蔽或使用术语指代复杂的程序实现，在专题论述时再详细深入</li>
<li>越益精深时，理念越重，龙书前两章先说语法分析，再说词法分析，没有取正向演绎的路数。通过源码反译容易流于琐碎，也会正向叙述流程</li>
</ul>
<img src="/2020/07/02/计算机科学/编译原理/编译原理踩点/analysis.png">
<h3 id="词法分析"><a href="#词法分析" class="headerlink" title="词法分析"></a>词法分析</h3><p>词法分析的目的在于将源程序语句解析成词法单元串，词法单元包含名字和属性。有如下两个简单的示例：</p>
<ul>
<li>语句：21 + 37 + 92;<br>经词法分析后：&lt;num, 21&gt;&lt;+&gt;&lt;num, 37&gt;&lt;+&gt;&lt;num, 59&gt;<br>num 整型常量，21 指 num 的属性-数值。</li>
<li>语句：count = count + increment;<br>经词法分析后：&lt;id, “count”&gt;&lt;=&gt;&lt;id, “count”&gt;&lt;+&gt;&lt;id, “increment”&gt;<br>id 标识符，”count” 指 id 的属性-词素。</li>
</ul>
<p>简易的词法分析包含如下流程：</p>
<ol>
<li>逐个读取字符，组成词，以数值型或字符型分别对待</li>
<li>若为数值型，直接构成 Num 词法单元（无需存入符号表，源程序中无法再次使用）</li>
<li>若为字符型，区分它是保留字还是标识符，构成 Word 词法单元（与符号表打交道）</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Lexer</span> </span>&#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">int</span> line = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">char</span> peek = <span class="string">''</span>;</span><br><span class="line">  <span class="keyword">private</span> HashTable words = <span class="keyword">new</span> HashTable();<span class="comment">// 符号表</span></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">reserve</span><span class="params">(Word t)</span></span>&#123; words.put(t.lexeme, t); &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Lexer</span><span class="params">()</span></span>&#123;</span><br><span class="line">  	reserve(<span class="keyword">new</span> Word(Tag.TRUE, <span class="string">"true"</span>));<span class="comment">// 保留字</span></span><br><span class="line">    reserve(<span class="keyword">new</span> Word(Tag.FALSE, <span class="string">"false"</span>));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Token <span class="title">scan</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> ( ; ; peek = (<span class="keyword">char</span>)System.in.read())&#123;</span><br><span class="line">      <span class="keyword">if</span> (peek == <span class="string">''</span> || peek == <span class="string">'\t'</span>) <span class="keyword">continue</span>;</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span> (peek == <span class="string">'\n'</span>) line = line + <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (Character.isDigit(peek))&#123;<span class="comment">// 处理数值型</span></span><br><span class="line">      <span class="keyword">int</span> v = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">do</span> &#123;</span><br><span class="line">        v = <span class="number">10</span>*v + Character.digit(peek, <span class="number">10</span>);</span><br><span class="line">        peek = (<span class="keyword">char</span>)System.in.read();</span><br><span class="line">      &#125; <span class="keyword">while</span>(Character.isDigit(peek));</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> Num(v);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (Character.isLetter(peek))&#123;<span class="comment">// 处理字符型</span></span><br><span class="line">      StringBuffer b = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">      <span class="keyword">do</span> &#123;</span><br><span class="line">        b.append(peek);</span><br><span class="line">        peek = (<span class="keyword">char</span>)System.in.read();</span><br><span class="line">      &#125; <span class="keyword">while</span>(Character.isLetterOrDigit(peek));</span><br><span class="line">      String s = b.toString();</span><br><span class="line">      Word w = (Word) words.get(s);</span><br><span class="line">      <span class="keyword">if</span> (w != <span class="keyword">null</span>) <span class="keyword">return</span> w;</span><br><span class="line">      w = <span class="keyword">new</span> Word(Tag.ID, s);</span><br><span class="line">      words.put(s, w);<span class="comment">// 如程序中存在多个同名变量，这段代码就需要层级上下文了</span></span><br><span class="line">      <span class="keyword">return</span> w;</span><br><span class="line">    &#125;</span><br><span class="line">    Token t = <span class="keyword">new</span> Token(peek);<span class="comment">// 将当前字符作为词法单元返回，如 +, - 号等</span></span><br><span class="line">    peek = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">return</span> t;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Token</span> </span>&#123;<span class="comment">// 词法单元基类</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> tag;<span class="comment">// 词法单元类型</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Token</span><span class="params">(<span class="keyword">int</span> t)</span></span>&#123;</span><br><span class="line">    tag = t;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Num</span> <span class="keyword">extends</span> <span class="title">Token</span> </span>&#123;<span class="comment">// 数值型词法单元类</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> value;<span class="comment">// 数值</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Num</span><span class="params">(<span class="keyword">int</span> v)</span></span>&#123; <span class="keyword">super</span>(Tag.NUM); value = v; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Word</span> <span class="keyword">extends</span> <span class="title">Token</span> </span>&#123;<span class="comment">// 字符型词法单元类</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> lexeme;<span class="comment">// 词素，构成一个词法单元的输入字符序列</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Num</span><span class="params">(<span class="keyword">int</span> t, String s)</span></span>&#123; <span class="keyword">super</span>(t); lexeme = s; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以上是简易的词法分析器实现（问题提取和简化）：</p>
<ol>
<li>不考虑代码中存在多个作用域 scope（即语句块），这种情况一般通过为每个语句块构造符号表解决</li>
<li>符号表只考虑存储词素和它的类型，不考虑存储存储位置、数据类型等（这些成为词法单元的属性）</li>
<li>作为简单示例的需要，保留字仅考虑 true, false；数值也不考虑浮点类型</li>
<li>没有多预读一个字符，以区分 &gt; 与 &gt;= 等</li>
</ol>
<h3 id="符号表"><a href="#符号表" class="headerlink" title="符号表"></a>符号表</h3><p>符号表存储着保留字。若读取的字符串匹配保留字，就返回符号表中的词法单元；若不匹配，则作为标识符存入符号表中，以符号表的引用进行后续操作。符号表可使用 HashTable 构建（java 环境）。</p>
<p>符号表条目适合由语法分析器创建。</p>
<p>多层语句块 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123; </span><br><span class="line">  <span class="keyword">int</span> x; <span class="keyword">char</span> y; </span><br><span class="line">  &#123; bool y; x; y; &#125; </span><br><span class="line">  x; y; </span><br><span class="line">&#125;</span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line">经语法分析后，生成 </span><br><span class="line"></span><br><span class="line">```Java</span><br><span class="line">&#123;</span><br><span class="line">  &#123; x: <span class="keyword">int</span>; y: bool; &#125; </span><br><span class="line">  x: <span class="keyword">int</span>; y: <span class="keyword">char</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>与块对应的符号表以栈形式存储，当前语句块的符号表存在栈顶，下方是其父级语句块。语句块构成嵌套结构时，符号表也需要链接起来，使内嵌符号表指向外围符号表，譬如作用域链。程序执行到某个语句块，环境指针会相应地指向那个语句块对应的符号表。实现上，编译器会为每个语句块创建环境对象，符号表作为环境对象属性，实际链接起来的是环境对象，不是符号表。环境指针的变更就在于程序执行到内嵌语句块时，根据外围环境对象创建新的环境对象。“符号表链接起来”、“环境指针指向内嵌符号表”，这样的描述屏蔽了程序实现，精省的表达抽象。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Env</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> Hashtable table;<span class="comment">// 符号表</span></span><br><span class="line">  <span class="keyword">protected</span> Env prev;<span class="comment">// 持有外围 Env</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Env</span><span class="params">(Env p)</span></span>&#123;</span><br><span class="line">    table = <span class="keyword">new</span> Hashtable();</span><br><span class="line">    prev = p;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(String s, Symbol sym)</span></span>&#123;</span><br><span class="line">    table.put(s, sym);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Symbol <span class="title">get</span><span class="params">(String s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(Env e = <span class="keyword">this</span>; e != <span class="keyword">null</span>; e = e.prev)&#123;</span><br><span class="line">      Symbol found = (Symbol)(e.table.get(s));</span><br><span class="line">      <span class="keyword">if</span> (found != <span class="keyword">null</span>) <span class="keyword">return</span> found;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="上下文无关文法"><a href="#上下文无关文法" class="headerlink" title="上下文无关文法"></a>上下文无关文法</h3><p>上下文无关文法（即 Backus-Naur Form 巴克斯范式，简称文法）用于描述程序设计语言语法的表示方法。文法包含：</p>
<ol>
<li>terminal 终结符号集合：终结符号不可再分割，表现为词法单元。</li>
<li>nonterminal 非终结符号集合：非终结符号可以通过产生式替换。</li>
<li>production 产生式集合：指定非终结符号可以具有怎样的推导规则。</li>
<li>指定一个非终结符号作为产生式的开始符号。</li>
</ol>
<p>以 stmt → if  ( expr ) stmt else stmt 产生式表示条件语句。→ 箭头指 “可以具有如下形式”。一个产生式左侧即产生式的开始符号；右侧可以用 | 连接多个形式。</p>
<p>词法单元和终结符号的关系：词法单元的名字即终结符号，词法单元的属性即通过名字在符号表中存储的信息。词法单元的属性不是文法的组成部分。通常将词法单元和终结符号当做同义词。</p>
<p>语法分析树的构成：以产生式为依据，开始符号作为根节点，产生式中的非终结符号作为叶子节点，终结符号或 ε 作为内部节点。语法分析树底层的叶子节点，依自左至右顺序构成的终结符号串，即根节点-开始符号的推导。文法的二义性指，一个文法有多棵语法分析树能够推导出同一个终结符号串，比如不指定 +、- 优先级的算数语句。9-5+2 既可以是 (9-5)+2；又可以是 9-(5+2)。因此需要在文法设置 +、- 运算符的左结合性，以及 *、/ 运算符的优先级。</p>
<img src="/2020/07/02/计算机科学/编译原理/编译原理踩点/tree1.png">
<p>语法分析的目的就是为终结符号串构建一颗语法分析树。因为词法单元与终结符号一一对应，也就是说，词法分析输出的词法单元串，作为语法分析的输入，最终输出为语法分析树。</p>
<h3 id="语法分析"><a href="#语法分析" class="headerlink" title="语法分析"></a>语法分析</h3><p>为一个终结符号串作词法分析的方法有两类：自顶向下或自底向上。自顶向下可以构造出高效的语法分析器，自底向上可以处理更多种文法和翻译方案。虽然语法分析器有构造出语法分析树的能力，但是它一般不会实际构造出语法分析树。</p>
<h4 id="匹配文法"><a href="#匹配文法" class="headerlink" title="匹配文法"></a>匹配文法</h4><p>假如有段程序语句匹配如下文法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">stmt → expr;</span><br><span class="line">  | <span class="keyword">if</span>  ( expr ) stmt</span><br><span class="line">  | <span class="keyword">for</span> ( optexpr; optexpr; optexpr; ) stmt</span><br><span class="line">  | other</span><br><span class="line">optexpr → expr | ε</span><br></pre></td></tr></table></figure>
<p>首先需要校验程序语句是否匹配这些产生式。除了控制语句、表达式外，产生式通常以特定的终结符号起始（或者说可用的文法是，对于任何非终结符号，它的各个产生式的首个起始符号不能相重）。因此，为程序语句拣选产生式或者为非终结符号拣选产生式体，都可以采用使用“逐步尝试法”，即逐个使用产生式推导语法分析树，若不合适，则回溯并选择另一个产生式。实现上可以采用条件语句或其他。词法单元串在这个时候会转变成 program、stmt、expr 等非终结符号构成的语法分析树，其下包含与产生式对应的终结符号节点。以下是自顶向下的递归下降预测法伪代码实现：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">stmt</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">switch</span>( lookahead )&#123;<span class="comment">// 向前看符号</span></span><br><span class="line">    <span class="keyword">case</span> expr:</span><br><span class="line">      match(expr);match(<span class="string">";"</span>);<span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">if</span>:</span><br><span class="line">      match(<span class="keyword">if</span>); match(<span class="string">"("</span>);match(expr);match(<span class="string">")"</span>);stmt();<span class="keyword">break</span>; </span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">for</span>:</span><br><span class="line">      match(<span class="keyword">for</span>); match(<span class="string">"("</span>);optexpr();match(<span class="string">";"</span>);optexpr();match(<span class="string">";"</span>);</span><br><span class="line">      optexpr();match(<span class="string">")"</span>);stmt();<span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> other:</span><br><span class="line">      match(other);<span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      report(<span class="string">"syatax error"</span>);<span class="comment">// 语法错误</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">optexpr</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (lookahead == expr) match(expr);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 向前看符号 lookahead 是否匹配 t，若匹配，取下一个</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">match</span><span class="params">(termianl t)</span></span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (lookahead == t) lookahead = nextTermianal;</span><br><span class="line">  <span class="keyword">else</span> report(<span class="string">"syatax error"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="翻译方案"><a href="#翻译方案" class="headerlink" title="翻译方案"></a>翻译方案</h4><p>以上为程序语句找到了匹配的产生式，文法的真正作用是将语义动作附加到语法分析树上（终结符号后面），这被称为翻译方案。附加语义动作的方式有两种：前序遍历，在进入节点时添加语义动作；后序遍历，在离开节点时添加语义动作。</p>
<p>考虑如下文法：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">expr → expr + term      &#123; <span class="built_in">print</span>(<span class="string">'+'</span>) &#125; 表示语义动作</span><br><span class="line">  | expr - term         &#123; <span class="built_in">print</span>(<span class="string">'+'</span>) &#125;</span><br><span class="line">  | term</span><br><span class="line">term → 0                &#123; <span class="built_in">print</span>(<span class="string">'0'</span>) &#125;</span><br><span class="line">  | 1                   &#123; <span class="built_in">print</span>(<span class="string">'1'</span>) &#125;</span><br><span class="line">    ...</span><br><span class="line">  | 9                   &#123; <span class="built_in">print</span>(<span class="string">'9'</span>) &#125;</span><br></pre></td></tr></table></figure></p>
<img src="/2020/07/02/计算机科学/编译原理/编译原理踩点/tree2.png">
<p>语法分析时的编码实现（上一节匹配文法中的伪代码）直接来自于产生式。若产生式为左递归形式，如 A → Aα 形式（即 expr → expr + term 等），编码时就会陷入无限循环。这时可以将左递归形式改写成右递归形式，即转换成 A → γR, R → αR | βR | ε 形式。对于 expr → expr + term，α = + term { print(“+”) }， γ = term。则产生式的新形式为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">expr → term + rest</span><br><span class="line">rest → + term &#123; <span class="built_in">print</span>(<span class="string">'+'</span>) &#125; rest</span><br><span class="line">  | - term &#123; <span class="built_in">print</span>(<span class="string">'-'</span>) &#125; rest</span><br><span class="line">  | ε</span><br><span class="line">term → 0                          &#123; <span class="built_in">print</span>(<span class="string">'0'</span>) &#125;</span><br><span class="line">  | 1                             &#123; <span class="built_in">print</span>(<span class="string">'1'</span>) &#125;</span><br><span class="line">    ...</span><br><span class="line">  | 9                             &#123; <span class="built_in">print</span>(<span class="string">'9'</span>) &#125;</span><br></pre></td></tr></table></figure>
<p>此时的编码实现即为：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">expr</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  term();rest();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rest</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span> ( lookahead == <span class="string">"+"</span> )&#123;</span><br><span class="line">      match(<span class="string">"+"</span>);term();print(<span class="string">"+"</span>);<span class="keyword">continue</span>;<span class="comment">// print("+") 代表语义动作</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> ( lookahead == <span class="string">"-"</span> )&#123;</span><br><span class="line">      match(<span class="string">"-"</span>);term();print(<span class="string">"-"</span>);<span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">term</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (Character.isDigit(lookahead))&#123;</span><br><span class="line">  	t = lookahead; match(lookahead); print(t);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> report(<span class="string">"syatax error"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注：在处理算数表达式时，人们容易理解中缀表达式，计算机却不便于处理中缀表达式，容易处理的是前缀表达式或后缀表达式。因此在处理中缀表达式时，编译器会将其翻译成后缀表达式。参考 <a href="https://zhuanlan.zhihu.com/p/75890992" target="_blank" rel="noopener">前、中、后缀表达式</a>。</p>
<h3 id="抽象语法树"><a href="#抽象语法树" class="headerlink" title="抽象语法树"></a>抽象语法树</h3><p>经过上文的翻译方案，我们容易得到三地址代码，也容易得到一棵抽象语法树（通常编译器不会真的去构建一棵语法分析树）。</p>
<p>抽象语法树中的内部节点代表一个运算符，该节点的子节点代表这个运算符的运算分量。抽象语法树和语法分析树的差别在于：抽象语法树的内部节点代表程序构造；语法分析树的内部节点代表非终结符号，有些能表示程序的构造，有些是各式辅助符号，比如 term 项、factor 银子或 expr 表达式等。在抽象语法树中，这些辅助符号都是不需要的。因此语法分析树也被称为具体语法树。</p>
<img src="/2020/07/02/计算机科学/编译原理/编译原理踩点/tree3.png">
<p>对于 while (expr) stmt，编译器通常会构造 While 父节点，其下子节点为 Expr 及 Stmt。以下是常见语法树节点：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">program → block                       &#123; <span class="built_in">return</span> block.n; &#125;</span><br><span class="line">block → <span class="string">'&#123;'</span> stmts <span class="string">'&#125;'</span>                 &#123; block.n = stmts.n; &#125;</span><br><span class="line">stmts → stmts stmt                    &#123; stmts.n = new Seq(stmts.n, stmt.n); &#125;</span><br><span class="line">  | ε                                 &#123; stmts.n = null; &#125;</span><br><span class="line">stmt → expr;                          &#123; stmt.n = new Eval(expr.n); &#125;</span><br><span class="line">  | <span class="keyword">if</span>  ( expr ) stmt                 &#123; stmt.n = new If(expr.n, stmt.n); &#125;</span><br><span class="line">  | <span class="keyword">while</span> ( expr ) stmt               &#123; stmt.n = new While(expr.n, stmt.n); &#125;</span><br><span class="line">  | <span class="keyword">do</span> stmt <span class="keyword">while</span> ( expr );           &#123; stmt.n = new Do(stmt.n, expr.n); &#125;</span><br><span class="line">  | block                             &#123; stmts.n = block.n; &#125;</span><br><span class="line">expr → rel = expr                     &#123; expr.n = new Assign(<span class="string">'='</span>, rel.n, expr.n); &#125; 等号运算符 Assign</span><br><span class="line">  | rel                               &#123; expr.n = rel.n; &#125;</span><br><span class="line">rel → rel &lt; add                       &#123; rel.n = new Rel(<span class="string">'&lt;'</span>, rel.n, add.n) &#125; 比较运算符 Rel</span><br><span class="line">  | rel &lt;= add                        &#123; rel.n = new Rel(<span class="string">'≤'</span>, rel.n, add.n) &#125;</span><br><span class="line">  | add                               &#123; rel.n = add.n; &#125;</span><br><span class="line">add → add + term                      &#123; add.n = new Op(<span class="string">'+'</span>, add, term.n); &#125; 算术运算符 Op</span><br><span class="line">  | term                              &#123; add.n = term.n; &#125;</span><br><span class="line">term → term * factor                  &#123; term .n = new Op(<span class="string">'*'</span>, term.n, factor.n); &#125;</span><br><span class="line">  | factor                            &#123; term.n = factor.n; &#125;</span><br><span class="line">factor → ( expr )                     &#123; factor.n = expr.n; &#125;</span><br><span class="line">  | num                               &#123; factor.n = new Num(num.value); &#125;</span><br></pre></td></tr></table></figure>
<h4 id="三地址码"><a href="#三地址码" class="headerlink" title="三地址码"></a>三地址码</h4><p>三地址码由一组类似于汇编语言的指令组成，每个指令拥有三个运算分量（每个运算分量都像一个寄存器）。</p>
<p>对于 if ( expr ) stmt 条件语句，会生成如下三地址码：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ifFalse x goto L 执行标记为 L 的指令</span><br><span class="line">ifTrue x goto L</span><br><span class="line">goto L</span><br></pre></td></tr></table></figure>
<p>以下是伪代码实现：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">If</span> <span class="keyword">extends</span> <span class="title">Stmt</span> </span>&#123;<span class="comment">// 按产生式，If 继承 Stmt 语句</span></span><br><span class="line">  Expr E; Stmt S;</span><br><span class="line">  <span class="comment">// x 可以是 Assign, Rel, Op 或其他 Expr 实例</span></span><br><span class="line">  <span class="comment">// 通过 newlabel 给 after 一个唯一的新标号</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">If</span><span class="params">(Expr x, Stmt y)</span></span>&#123; E = x; S = y; after = newlabel(); &#125;</span><br><span class="line">  <span class="comment">// 抽象语法树构建完成后，调用 gen 生成三地址码</span></span><br><span class="line">  <span class="function">publich <span class="keyword">void</span> <span class="title">gen</span><span class="params">()</span></span>&#123;</span><br><span class="line">  	Expr n = E.rvalue();<span class="comment">// 计算表达式的右值，左值适用于 id 标识符或赋值语句</span></span><br><span class="line">    emit(<span class="string">"ifFalse"</span> + n.toString() + <span class="string">"goto"</span> + after);</span><br><span class="line">    S.gen();</span><br><span class="line">    emit(after + <span class="string">":"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>三地址码最终会转变成汇编语言。</p>
<img src="/2020/07/02/计算机科学/编译原理/编译原理踩点/flow.png">

        </div>
        <footer class="article-footer">
            

    <div class="bdsharebuttonbox">
    <a href="#" class="bds_more" data-cmd="more">分享到：</a>
    <a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间">QQ空间</a>
    <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博">新浪微博</a>
    <a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博">腾讯微博</a>
    <a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网">人人网</a>
    <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信">微信</a>
</div>
<script>
window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"16"},"share":{"bdSize":16}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='//bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script>
<style>
    .bdshare_popup_box {
        border-radius: 4px;
        border: #e1e1e1 solid 1px;
    }
    .bdshare-button-style0-16 a,
    .bdshare-button-style0-16 .bds_more {
        padding-left: 20px;
        margin: 6px 10px 6px 0;
    }
    .bdshare_dialog_list a,
    .bdshare_popup_list a,
    .bdshare_popup_bottom a {
        font-family: 'Microsoft Yahei';
    }
    .bdshare_popup_top {
        display: none;
    }
    .bdshare_popup_bottom {
        height: auto;
        padding: 5px;
    }
</style>



        </footer>
    </div>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "author": {
            "@type": "Person",
            "name": "Alfred"
        },
        "headline": "编译原理踩点",
        "image": "http://xzfyu.com/2020/07/02/计算机科学/编译原理/编译原理踩点/analysis.png",
        "keywords": "analyst 计算机科学 编译原理",
        "genre": "计算机科学 编译原理",
        "datePublished": "2020-07-02",
        "dateCreated": "2020-07-02",
        "dateModified": "2020-07-02",
        "url": "http://xzfyu.com/2020/07/02/计算机科学/编译原理/编译原理踩点/",
        "description": "基础及前言编译器由 analysis 分析（也称为前端部分）、synthesis 综合（也称为后端部分）两部分构成。编译器执行的各 phase 步骤如下：

词法分析 lexical analysis：将字符流源程序解析成 token 词法单元。这一部分将收集源程序的变量信息，并存入 symbol table 符号表。
语法分析 syntax analysis：构建词法单元的语法结构 —— syn",
        "wordCount": 2570
    }
</script>

</article>

    <section id="comments">
    
        
<div id="comment-container"></div>


    
    </section>



                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>关注我 :</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/Alfred-sg" target="_blank" rel="noopener">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2020/07/04/frontend/html/html5/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">下一篇</strong>
        <p class="article-nav-title">
        
            html5
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
        <a href="/2020/07/01/frontend/antd/TreeSelect/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">上一篇</strong>
        <p class="article-nav-title">TreeSelect 组件</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    
    <div class="widgets-container">
        
            
                

            
                
    <div class="widget-wrap">
        <h3 class="widget-title">最新文章</h3>
        <div class="widget">
            <ul id="recent-post" class="no-thumbnail">
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/frontend/">frontend</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/frontend/architecture/">architecture</a></p>
                            <p class="item-title"><a href="/2020/12/31/frontend/architecture/前端工程体系/" class="title">前端工程体系</a></p>
                            <p class="item-date"><time datetime="2020-12-30T16:00:00.000Z" itemprop="datePublished">2020-12-31</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/frontend/">frontend</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/frontend/js/">js</a></p>
                            <p class="item-title"><a href="/2020/08/22/frontend/js/babel/" class="title">babel</a></p>
                            <p class="item-date"><time datetime="2020-08-21T16:00:00.000Z" itemprop="datePublished">2020-08-22</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/计算机科学/">计算机科学</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/计算机科学/软件工程/">软件工程</a></p>
                            <p class="item-title"><a href="/2020/07/29/计算机科学/软件工程/软件复用/" class="title">软件复用</a></p>
                            <p class="item-date"><time datetime="2020-07-28T16:00:00.000Z" itemprop="datePublished">2020-07-29</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/计算机科学/">计算机科学</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/计算机科学/设计模式/">设计模式</a></p>
                            <p class="item-title"><a href="/2020/07/19/计算机科学/设计模式/访问者模式/" class="title">访问者模式</a></p>
                            <p class="item-date"><time datetime="2020-07-18T16:00:00.000Z" itemprop="datePublished">2020-07-19</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/frontend/">frontend</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/frontend/html/">html</a></p>
                            <p class="item-title"><a href="/2020/07/04/frontend/html/html5/" class="title">html5</a></p>
                            <p class="item-date"><time datetime="2020-07-03T16:00:00.000Z" itemprop="datePublished">2020-07-04</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">分类</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/backend/">backend</a><span class="category-list-count">36</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/backend/java/">java</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/backend/java-工程/">java 工程</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/backend/spring/">spring</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/backend/web-服务/">web 服务</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/backend/其他/">其他</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/backend/异步消息/">异步消息</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/backend/数据库/">数据库</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/backend/数据库技术/">数据库技术</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/backend/架构/">架构</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/backend/模块/">模块</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/backend/缓存/">缓存</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/backend/远程通信/">远程通信</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/backend/部署/">部署</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/frontend/">frontend</a><span class="category-list-count">97</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/frontend/antd/">antd</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/frontend/architecture/">architecture</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/frontend/editor/">editor</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/frontend/guide/">guide</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/frontend/html/">html</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/frontend/js/">js</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/frontend/library/">library</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/frontend/react/">react</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/frontend/vue/">vue</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/frontend/前端工程化/">前端工程化</a><span class="category-list-count">19</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据技术/">数据技术</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/数据技术/sql/">sql</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据技术/大数据/">大数据</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据技术/读书笔记/">读书笔记</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机科学/">计算机科学</a><span class="category-list-count">17</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/计算机科学/操作系统/">操作系统</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机科学/算法/">算法</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机科学/编译原理/">编译原理</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机科学/设计模式/">设计模式</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机科学/软件工程/">软件工程</a><span class="category-list-count">3</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/读书笔记/">读书笔记</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/踩坑/">踩坑</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/随笔/">随笔</a><span class="category-list-count">3</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-float">
        <h3 class="widget-title">标签云</h3>
        <div class="widget tagcloud">
            <a href="/tags/analyst/" style="font-size: 20px;">analyst</a> <a href="/tags/antd/" style="font-size: 16px;">antd</a> <a href="/tags/carrier/" style="font-size: 19px;">carrier</a> <a href="/tags/css/" style="font-size: 11px;">css</a> <a href="/tags/fiber-renconciler/" style="font-size: 10px;">fiber-renconciler</a> <a href="/tags/git/" style="font-size: 11px;">git</a> <a href="/tags/java/" style="font-size: 18px;">java</a> <a href="/tags/jquery/" style="font-size: 10px;">jquery</a> <a href="/tags/js/" style="font-size: 15px;">js</a> <a href="/tags/js设计模式/" style="font-size: 13px;">js设计模式</a> <a href="/tags/lint/" style="font-size: 10px;">lint</a> <a href="/tags/prettier/" style="font-size: 10px;">prettier</a> <a href="/tags/proxy/" style="font-size: 11px;">proxy</a> <a href="/tags/react/" style="font-size: 17px;">react</a> <a href="/tags/react-components/" style="font-size: 10px;">react-components</a> <a href="/tags/react16/" style="font-size: 10px;">react16</a> <a href="/tags/spring/" style="font-size: 10px;">spring</a> <a href="/tags/test/" style="font-size: 12px;">test</a> <a href="/tags/tools/" style="font-size: 10px;">tools</a> <a href="/tags/validate/" style="font-size: 10px;">validate</a> <a href="/tags/vue/" style="font-size: 14px;">vue</a> <a href="/tags/webpack/" style="font-size: 16px;">webpack</a> <a href="/tags/性能/" style="font-size: 10px;">性能</a> <a href="/tags/算法/" style="font-size: 13px;">算法</a> <a href="/tags/编译原理/" style="font-size: 10px;">编译原理</a> <a href="/tags/虚拟-dom/" style="font-size: 10px;">虚拟 dom</a> <a href="/tags/计算机科学/" style="font-size: 10px;">计算机科学</a> <a href="/tags/设计模式/" style="font-size: 10px;">设计模式</a>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">链接</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="https://www.zhihu.com/people/xiu-fan-79/activities">知乎</a>
                    </li>
                
            </ul>
        </div>
    </div>


            
        
    </div>
</aside>

                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2020 Alfred</p>
                
            </div>
            <div class="footer-plugins">
              
    


            </div>
        </div>
    </div>
</footer>

        
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script>
    var gitalk = new Gitalk({
        clientID: 'b91413aac6da3042133d',
        clientSecret: '0ea2891e8a1163db789b8e5a4379771adb419be3',
        id: '5540e3bccc737c140ad35c0b98c902f7',
        repo: 'Alfred-sg.github.io',
        owner: 'Alfred-sg',
        admin: "Alfred-sg"
    })
    gitalk.render('comment-container')
</script>





    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    

    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>
</html>
